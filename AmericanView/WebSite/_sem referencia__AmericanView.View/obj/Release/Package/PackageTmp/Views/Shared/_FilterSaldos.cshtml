<div class="panel-group" id="accordion">
    <div class="panel panel-primary" style="margin-bottom: 15px;margin-right:15px">
        <div class="panel-heading" data-toggle="collapse" data-parent="#accordion" href="#collapseFilter">
            <h4 class="panel-title">
                <small><span class="glyphicon glyphicon-chevron-right"></span></small> Filtros
            </h4>
        </div>
        <div id="collapseFilter" class="panel-collapse collapse">
            <div class="panel-body">
                <div class="row">
                    <form id="filter-form">
                        <div class="col-sm-12">
                            <div class="row">
                                <div class="col-sm-3">
                                    <div class="form-group">
                                        <!-- Codigo   -->
                                        <label><strong>Código da Matriz</strong></label>
                                        <input id="txtCodMatriz" name="txtCodMatriz" class="filter" style="width: 100%;" data-required="true" />
                                    </div>
                                </div>

                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <!-- Razão Social   -->
                                        <label><strong>Razão Social</strong></label>
                                        <input id="txtRazaoSocial" name="txtRazaoSocial" class="k-textbox filter" style="width: 100%;" readonly="readonly" />
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <div class="col-sm-6">
                                                <div class="form-group">
                                                    <p></p>
                                                    <button type="button" id="btnPesquisarEmpresaSaldo" class="btn btn-success btn-xs" onclick="{ javascript: Pesquisar() };">
                                                        <span class="glyphicon glyphicon-search"></span> Pesquisar
                                                    </button>
                                                    <button type="button" id="btnLimparPequisa" class="btn btn-danger btn-xs" onclick="{ javascript: ClearForm(this) };">
                                                        <span class="glyphicon glyphicon-remove"></span> Limpar
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>


<script type="text/javascript">
    function GetMatriz() {
        var matrizList = $("#txtCodMatriz").kendoDropDownList({
            optionLabel: "Selecione uma Matriz...",
            dataTextField: "CodigoMatriz",
            dataValueField: "Id",
            dataSource: LoadDsMatrizes(),
            select: onSelectMatriz
        }).data("kendoDropDownList");
    }

    function onSelectMatriz(e) {
        $('#txtRazaoSocial').val("");
        var dataItem = this.dataItem(e.item);
        $('#txtRazaoSocial').val(dataItem.RazaoSocial);
        BloquearCampos();
        LimparCampos();
        $('#btnHabilitarEdicao').data('kendoButton').enable(false);
        if (dataItem.Id != "")
        {
            BuscarDadosSaldos(dataItem.Id);
        }
    }

    function Pesquisar() {
        var countField = 0;
        $('#filter-form input').each(function () {
            if ($(this).data('required')) {
                if ($(this).val() == "" || $(this).val().indexOf('Selecione') > -1) {
                    $(this).parent().parent().children('label').attr('style', 'color: #ff0000;');
                    countField++;
                }
                else {
                    $(this).parent().parent().children('label').attr('style', 'color: #222222;');
                }
            }
        });

        if (countField > 0) {
            var msg = "<p>Preencha os Campos Obrigatórios.</p>";
            ShowModalAlerta(msg);
        }
        else {
            var obj = GetObj();
            BuscarDadosSaldos(obj);
        }
    }

    function ClearForm(e) {
        $("#grid").html("");
        $("#grid").removeAttr("class");
        $("#grid").removeAttr("data-role");
        // Limpar dados do Formulário
        $(this).trigger("reset");
        var matrizList = $("#txtCodMatriz").data("kendoDropDownList");
        matrizList.select(0);
        $('#txtRazaoSocial').val("");
    }
</script>